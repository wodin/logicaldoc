<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
   "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping default-lazy="false">
	<class name="com.logicaldoc.core.document.Document" table="ld_document">
		<cache usage="read-write" />
		<id name="id" type="long" column="ld_id" unsaved-value="0">
			<generator class="increment" />
		</id>
		<property name="title" type="string" column="ld_title" length="255" />
		<property name="version" type="string" column="ld_version" length="10" />
		<property name="date" type="timestamp" column="ld_date" />
		<property name="publisher" type="string" column="ld_publisher" length="30" />
		<property name="status" type="int" column="ld_status" />
		<property name="type" type="string" column="ld_type" length="255" />
		<property name="checkoutUser" type="string" column="ld_checkoutuser" length="30" />
		<property name="source" type="string" column="ld_source" length="255" />
		<property name="sourceAuthor" type="string" column="ld_sourceauthor" length="255" />
		<property name="sourceDate" type="timestamp" column="ld_sourcedate" />
		<property name="sourceType" type="string" column="ld_sourcetype" length="255" />
		<property name="coverage" type="string" column="ld_coverage" length="255" />
		<property name="language" type="string" column="ld_language" length="10" />
		<property name="fileName" type="string" column="ld_filename" length="255" />
		<property name="fileSize" type="long" column="ld_filesize" />
		<many-to-one name="folder" class="com.logicaldoc.core.security.Menu" column="ld_folderid" />
		<set name="versions" table="ld_version" lazy="false" cascade="all">
			<key column="ld_docid" />
			<composite-element class="com.logicaldoc.core.document.Version">
				<property name="version" type="string" column="ld_version" length="10" />
				<property name="user" type="string" column="ld_user" length="30" />
				<property name="date" type="timestamp" column="ld_date" />
				<property name="comment" type="string" column="ld_comment" length="2000" />
			</composite-element>
		</set>
		<set name="keywords" table="ld_keyword" lazy="false" cascade="all">
			<key column="ld_docid" />
			<element type="string" column="ld_keyword" length="255" />
		</set>
	</class>
</hibernate-mapping>